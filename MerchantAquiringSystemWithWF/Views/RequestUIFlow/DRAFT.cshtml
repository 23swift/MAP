@model DA.Models.Request
@using MAS_WorkFlowService
@{
    //ViewBag.Title = "Draft";
    //Layout = "~/Views/Shared/_Layout.cshtml";
    Layout = "~/Views/Shared/_TabedLayout.cshtml";
    string routeView = (string)ViewBag.view;
}

@*<h2>@ViewBag.Title</h2>*@

<div>
    <h4>@ViewBag.Title</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.RequestDescription)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.RequestDescription)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Status)
            
        </dt>

        <dd>
            @*@Html.DisplayFor(model => model.Status)*@
            @RequestConfigHelper.GetStatusDisplayName(Model.Status)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.WorkflowInstanceId)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.WorkflowInstanceId)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.BookMark)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.BookMark)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.CreatedDate)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CreatedDate)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.CreatedBy)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.CreatedBy)
        </dd>

    </dl>
</div>

<div>
    @Html.ActionLink("Back to List", "Index","Requests") | 
    @Html.ActionLink("Edit", "Edit","Requests", new { id = Model.Id },null) |
    @Html.ActionLink("Submit For Checking", routeView, "RequestUIFlow", new { id = Model.Id }, null)
    
</div>


<hr />
<div class="row">
    <div class="col-md-12">

        @Html.ActionLink("Add Branch", "Create", "Branch", new { requestId = Model.Id }, new { @class = "btn btn-primary btn-sm float-right" })
    </div>
    
</div>
<div class="row" style="margin-top:10px;">
    <div class="col-md-12">
        <table class="table table-condensed">
            <thead>
                <tr>
                    <th>Branch name</th>
                    <th>Address</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Branches)
                {
                    <tr>
                        <td>@item.DBAName</td>
                        <td>@item.dbaAddress1</td>
                    </tr>
                }
               

            </tbody>
        </table>
    </div>

</div>
